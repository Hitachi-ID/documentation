Or,
userunlock.exe -check -all -time 10
2.To unlock all users who have been locked out for at least 10 minutes:2.
userunlock.exe -all -time 10
3.To immediately unlock the user SMITHJO:3.
userunlock.exe -user smithjo
uservalid
Use the uservalid  program if you need to set a pr ofile  as valid or invalid. The utility  can be used when
the account is removed from the source of pr ofiles  and the pr ofile  needs to be restored. It can also be
used when the pr ofile  needs to be made invalid.
The utility  doesn’t override the auto discovery behavior. It only adds or removes pr ofiles  and can be
overridden by auto discovery. The utility  does not take into account any ID filt er s  when adding pr ofiles.
Usage
uservalid.exe -add <profile IDs>
uservalid.exe -remove <profile IDs>
Argument Description
-add <pr ofile  IDs> The list of pr ofile  IDs that are to be made valid. Pr ofiles
that already exist are ignored. Pr ofiles  that have become
invalid are restored. Pr ofile  IDs that do not exist are
created.
-remove <pr ofile  IDs> The list of pr ofile  IDs that are to be made invalid. Pr ofile
that do not exist are ignored. Pr ofiles  that are valid will
be marked invalid. A pr ofile  ID[]s that is a product
administrator is ignored.
Examples
1.To restore a user that is marked invalid:1.
uservalid -add JSMITH
2.To set users as invalid:2.
uservalid -remove ZD0039 ZF485 AA588
If a profile  is removed and the accounts is still on the source of profile,  then the next auto discovery
will restore the profile.  If the profile  ID is added and the source of profile  account doesn’t exist, then
the next auto discovery will set it invalid unless INVALID USER DELAY DAYS is set to delay it from being
removed.User notific ation  utilities
ntftrig g er
Bravura Security Fabric  uses the ntftrigger  program to communicate with the Notific ation  Service
(psntfsvc ) and send out notific ations.  Scheduling a batch notific ation  creates a scheduled job to run
ntftrigger . You can use this program to test notific ations  rather than wait for the scheduled time.
Usage
Web notific ations:
ntftrigger.exe -listusernotifications -user <user ID> [-
targetid <target ID>]
                 [-svcid <SVCID>] [-timeout <N>] [-threads <N> ]
                 [-increment I|N|P]
ntftrigger.exe -getusernotification -notifyid <notifyid> -
user <user ID>
                 [-targetid <target ID>]
                 [-svcid <SVCID>] [-timeout <N>] [-threads <N>]
                 [-increment I|N|P]
Batch notific ations:
ntftrigger.exe -runbatch -notifyid <notifyid> [-targetid <target ID>]
                 [-svcid <SVCID>] [-timeout <N>] [-threads <N>]
                 [-increment I|P]
Argument Description
-g e tusernotific ation Get a specified  web notific ation  for a specified  user.
-increment <increment> User notific ation  increment indicator:
I - increment
N - no increment
P - peek - used for a dry-run or test
The default for web notific ations  is N. The N indicator
does not apply to batch notific ations.
-lis tusernotific ations List all web notific ations  for a specified  user.
-notif yid  <notif yid> Notific ation  ID.
-runbatch Run a specified  batch notific ation.
-svcid <svcid> SVCID that the Notific ation  Service (p sntfs v c)  uses. If not
specified,  it is read from the instance’s registry.
-t ar g etid  <t ar g etid> Target system ID for the specified  account.
-threads <threads> Number of threads to send concurrent requests. If not
specified,  the default is 1.Argument Description
-timeout  <timeout> Connection  timeout  value. If not specified,  it is read from
the instance’s registry.
-user <user> Pr ofile  ID if TARGETID is not specified;  account/longid on
TARGETID otherwise.
Examples
1.To list web notific ations  for a specific  user: 1.
    ntftrigger.exe -listusernotifications -user brownwi
2.To list a specific  web notific ation  for a specific  user: 2.
    ntftrigger.exe -getusernotification -notifyid WEBNOTE -
user brownwi
3.To run a batch notific ation: 3.
   ntftrigger.exe -runbatch -notifyid BATCHNOTE
4.To dry-run a batch notific ation,  use the -increment P  option.  The batch notific ation  proceeds as 4.
usual with the compliance plugin and will return non-compliant users. The users' notific ation  status
will not be updated and the reminder plugin and action  plugin will not be executed. The option  is used
to test the notific ation.
   ntftrigger.exe -runbatch -notifyid BATCHNOTE -increment P
psmail
The psmail  program sends email in any language from a Win32 console to an SMTP server. It is used by
the Notific ation  Service ( p sntfs v c ) to send emails generated by the notific ation  system.
Usage
 psmail.exe  -server <server name> [-port <port>] [-plugin <plugin>]
    [-to <address> ] [-cc <address> ] [-bcc <address> ] [-
from <address>]
    [-useauth <authtype> [-authname <smtp login ID> -
authpass <smtp auth password>]]
    [-subject <subject> -content <message text> -
attachment <file> <type> ]
    [-contenttype <content type>] [-charset <set type>]
Argument Description
-server <mail server> The SMTP mail server name.
-port <port> Specify the mail server port.
If you do not specify a port, psmail defaults to port 25.
-plugin <plugin> Specify the plugin to be used.Argument Description
If you do not specify a plugin, global-mail-
plugin.py  is used by default.
-to <address> Specify the recipient’s address.
-cc <address> Specify the CC recipient’s address.
-bcc <address> Specify the BCC recipient’s address.
-from <address> The sender’s email address.
-subject <subject> Text to use for the subject line of the message.
The text must be enclosed in quotes if it includes spaces.
-content <message text> Text to use for the body of the message.
The text must be enclosed in quotes if it includes spaces.
-useauth <authtype> Authentic ation  type to use.
This is currently NONE or LOGIN . If the type is:
▪LOGIN , cr edentials  must be supplied using the - ▪
authname and -authpass parameters, or they will be
read from MAIL AUTH LOGIN and MAIL AUTH
PASSWORD on the Email c onfiguration  page.
▪NONE , you must NOT specify -authname and - ▪
authpass. MAIL AUTH LOGIN and MAIL AUTH
PASSWORD must also be empty on the Email
c onfiguration  page. Use NONE type when your SMTP
mail server does not use authentic ation.
-authname <name> Username for authentic ation.
-authpass <password> Password for authentic ation.
-attachmen t  <file>  [<type>] A file to attach  and an optional  content type.
The psmail program guesses the content type if you do
not specify it. Common types include:
▪ applic ation/ oct e t -s tr eam▪
▪ applic ation/zip▪
▪text/plain▪
▪text/html▪
-contentType <content type> The email content type. This value can either be 0 for
plaintext or 1 for HTML. If you do not specify a content
type, 0 will be used by default.
-charset <set type> Character set to use. Default is utf-8  if unspecified.
Examples
To send an email to an address using smtp authentic ation  and providing subject and message, type on
one line:
  -psmail.exe -server myserver -port 25 -to johnd@example.com -
from psynch@example.com -subject "This is a subject" -content "This is the message" -useauth LOGIN -authname psadmin -
authpass Password
p sntfclien t
The Notific ation  Client ( psntfclient ) is required only if users will receive notific ation  via their web
browser. The client is installed on a network share and is responsible for c on t acting  the Notific ation
Service ( psntfsvc ) to determine if users have any pending notific ations.  If they do, the
psntfclient program opens a browser on the user’s w ork s t ation  for the user to fir s t log in and then
to display the notific ation  message in Bravura Security Fabric . If any of those notific ations  are force-level,
the psntfclient opens the browser in kiosk mode, pr e v enting  the user from accessing na vig ation  or
other functionality  until  the user becomes compliant.
Use the ntfclient.msi from the addon directory to install the Notific ation  Client ( psntfclient ).
It is recommended that you install and run the client from a shared folder and include it in a login script.
Requirement
The psntfsvc service  (on page 2835) must be installed and started on the Bravura Security Fabric
server.
The psntfclient program is intended to be run from a public share. The webbrowser.dll , which
is used to open a browser to the User notific ations  (PSN) module if notific ations  exist, must also be
located in the same share.
Bravura Security recommends that the Notific ation  Client communicates with the Bravura Security Fabric
server using SSL (HTTPS).
Ins t allation
The Notific ation  Client can be installed by launching the MSI manually or aut omatic ally  using a group
policy.
Usage
psntfclient -userid <user ID>[-url http[s]://<server>[:<port>]/
<path>/cgi/psn.exe ] [-targetid <target ID> ] [-width <width> -
height <height>] [-skin <skinID>] [-lang <lang-locale>]
Option  / Argument Description
-userid <userid> Use %USERNAME% to use the currently logged in user, or
specify a user ID.
-url <URL> The path to the User notific ations  (psn) module on the
Bravura Security Fabric  server. If used, this value
overrides the URL set during ins t allation.
-t ar g etid  <target ID> Specify a target system if the user ID is not a Bravura
Security Fabric  pr ofile  ID. The url can optionally  specify a
port and security.Option  / Argument Description
-width <width> Specify the notific ation  window width.
-height <height> Specify the notific ation  window height.
-skin <skinID> Specify a skin ID. If used, this value overrides the one that
is specified  for the user in the LASTSKIN tag in the
userstat table.
-lang <lang-locale> Specify a language code for the language-locale. If used,
this value overrides the one that is specified  for the user
in the LASTLANG tag in the userstat table.
The Notific ation  Client has a minimum width and height of 913 x 338 pixels. If the specified  -width or -
height is less than the minimum required dimensions, or if there are any force-type notific ations,  then the
browser opens at 913 x 338 pixels.
Examples
1.To launch the notific ation  page for user JOHNS: 1.
psntfclient.exe -userid JOHNS
2.To launch the notific ation  page for user JOHNS with specified  width and height: 2.
psntfclient.exe -userid JOHNS -width 913 -height 338
3.To launch the notific ation  page with the secure kiosk account (SKA) skin for user JOHNS: 3.
psntfclient.exe -userid JOHNS -ska 1
4.To launch the notific ation  page for the user aduser1 de fined  on target system AD1, overriding the 4.
default URL set during ins t allation,  and using SSL and port 8080:
psntfclient.exe -userid aduser1 -target AD1 -url https://
10.0.51.26:8080/idmsuite/cgi/psn.exe
5.To launch the notific ation  page for the user JOHNS and specifying a skin named myskin and specifying 5.
the fr-fr language and locale, overriding the values in the userstat table for LASTSKIN and LASTLANG:
psntfclient.exe -userid JOHNS -skin myskin -lang fr-fr
Target system utilities
adtoaddn
Use the adtoaddn program convert target systems using the Legacy Activ e  Directory connector to use
the Activ e  Directory DN connector.
The updates include:
▪Target address to Activ e  Directory DN format ▪
▪Account attribut es  copied ▪
▪Target address c on figur ation ▪
▪Objects associated to the target system are also updated such as:▪▪Accounts▪
▪Managed groups▪
▪Template account▪
▪Discovered child objects▪
Usage
 adtoaddn.exe -targetid <id>
Argument Description
-t ar g etid The target identifier  to change from Legacy Activ e
Directory connector to use the Activ e  Directory DN
connector.
Example
To migrate target system AD to the Activ e  Directory DN connector: 
adtoaddn.exe -targetid AD  
dcdiscovery
Use the dcdiscovery  utility  to search and archive a list of sites and domain controllers in an Micr osoft
Activ e  Directory domain. The in f ormation  is saved in the dclist.txt  file in the \<instance>\script\
directory. You can specify another name for this file.
The dcdiscovery  utility  is useful in global Activ e  Directory domains with multiple  sites and domain
controllers. When users change their passwords in a domain, a sub-host plugin can use the in f ormation
cached by the dcdiscovery  utility  to immediately set the users’ passwords in the appropriate domain
controllers.
The following sub-host plugins  (on page 503) use the in f ormation  archived by dcdiscovery, when
c on figur ed  by the Program to run to generate a list of target systems  plugin point.:
▪dcselect  selects a domain controller based on its proximity to the user. This eliminates the latency ▪
of password pr opag ation  for the user.
▪w2kranddc  makes a random selection. ▪
Both of these sub-host plugins can also use in f ormation  saved in the dc.man  file that you can create and
install in the \<instance>\script\ directory. The dc.man  file is used to save site in f ormation  not saved by
dcdiscovery  in dclist.txt .
See more in f ormation  about dclist.txt
The dcdiscovery  program aut omatic ally  generates the dclist.txt  file; however, in some cases,
you may need to manually create this file. For example, dcdiscovery  will not work if your Activ e
Directory does not have complete site in f ormation.
Write the dclist.txt  file in the following format:DOMAIN "<domain name>"
SITENAME "<site name>" "<site description>"
DC "<domain controller name>" "<IP address>" "<optional description>"
SITELINK "<sitelink.com>"
SUBNET "<IP address range>" "<site name>"
Where each site can have zero or more domain controllers (DC), zero or more links (SITELINK), and one or
more subnets (SUBNET). For example, write the dclist.txt  file as:
   DOMAIN "eg.com"
   SITENAME "RABU.eg.com" "Sydney Office - Sydney, Australia"
   DC arbundc0.eg.com "172.25.130.252" ""
   SITELINK "RABL.eg.com"
   SITELINK "RAPL.eg.com"
   SITELINK "RASA.eg.com"
   SITELINK "YUMT.eg.com"
   SITELINK "SUTC.eg.com"
   SUBNET "172.23.204.0/23" "HTSI.eg.com"
   SUBNET "165.28.173.0/24" "SUNP.eg.com"
.
See more in f ormation  about dc.man
The dc.man  file allows users to specify additional  domain site and domain controller in f ormation  that
the aut omatic  discovery process does not or is not able to gather. It also allows users to exclude certain
sites or controllers from Bravura Security Fabric  oper ations  if there is a need to do so.
Write the dc.man  file in the following format:
   DOMAIN "<domain name>"
   SITE "<site name>" "<domain controller name>"
   excludeDC "<domain controller name>"
   excludeSite "<site name>"
The excludeDC  and excludeSite  lines are optional.  If specified,  programs like dsdisc  will ignore
the de fined  domain controllers and sites. A site can be excluded, for example, to prevent dcselect
from aut omatic ally  choosing the site based on a user’s pr ofile  or IP address in f ormation.  Domain
controllers that are members of an excluded site are not aut omatic ally  hidden. You must use excludeDC
to exclude them.
The site name de fined  by SITE can include the wildcards ? for any single character and * for any number
of characters. Domain controllers that are to be used as default targets can be specified  using the * site.
Wild cards can not be used in excludeSite  de finitions.
For example, write the dc.man  file as:
   DOMAIN "eg.com"
   SITE "RAPL.eg.com" "arbundc0.eg.com"   SITE "RASA.eg.com" "arbundc0.eg.com"
   SITE "RASL.eg.com" "arbundc0.eg.com"
   SITE "TAHA.eg.com" "uktcndc0.eg.com" "uktcndc1.eg.com" "uktcndc2.eg.com"
   SITE "TAVI.eg.com" "uktcndc0.eg.com" "uktcndc1.eg.com" "uktcndc2.eg.com"
   excludeDC "arbundc1.eg.com"
   excludeDC "arbundc2.eg.com"
   excludeSite "TASA.eg.com"
.
Requirements
The adminis tr ativ e  account for the Activ e  Directory domain must be able to enumerate domain
controllers in the domain.
Usage
Bravura Security Fabric  uses the cr edentials  c on figur ed  for the target ID to retrieve in f ormation  about
sites and domain controllers:
dcdiscovery.exe -t <target ID> -f <filename>
If the cr edentials  c on figur ed  for the target ID are insufficien t  to retrieve in f ormation  about sites and
domain controllers, then a diff er en t  user ID and password can be specified:
dcdiscovery.exe -s <domain> -u <user> -p <password> -f <filename>
Argument Description
-f <filename> The name of the output file generated by the program.
By c on v ention,  this file is called dclist.txt.
-s <domain> The domain name of the Activ e  Directory domain to
search.
-t <targetID> The target ID of the Activ e  Directory domain to search.
If this argument is used, then the -s, -u and -p options  are
not required.
-u <user> The user ID of an adminis tr ativ e  account in the Activ e
Directory domain.
-p <password> The password of the user specified  by the -u option.
Examples
1.To search a domain, by using arguments "-s", "-u" and "-p", type on one line:1.
  dcdiscovery.exe -s domain1 -u administrator1 -p adminpw -
f dclist.txt
2.To search an Activ e  Directory target system de fined  in Bravura Security Fabric , type on one line: 2.
  dcdiscovery.exe -t W2KDOM -f dclist.txtUsage
Use the didtovault program to move ID files from the Bravura Security s DID table to a Lotus Notes ID
vault. This program is installed with Bravura Security Fabric .
Usage
didtovault.exe -s <server> -t <target> -vault <vault>
    [-ai <IDfile> -ap <password>]
     [-all | -ei <longID> | -ui <longID>]
     [-r] [--retries <N>] [-verbose]
Argument Description
-s <server> — --server <server> The name of the Domino server containing the ID vault.
(required)
-t <target> — --target <target> The target system ID of the Domino server. (required)
-vault <vault> Specify the name of the vault database, including
relevant path in f ormation  as required. For example,
IBM_ID_VAULT\vault.nsf  (required)
-ai <IDfile>  — --admin file  <IDfile> An administrator’s ID file with permission to access the
Notes ID vault. Must be used in c onjunction  with the - -
adminpass  option.
-ap <password> — --adminpass <password> The password for the administrator’s ID. Must be used in
c onjunction  with the --adminfile  option.
-all Move all accounts; this is default behavior. This option
cannot be used with --userid  or --excludeid .
-ei <longID> — --excludeid <longID> Exclude the specified  account ID of a specific  user in the
DID table; specify an account using the longid. Use --
excludeid  multiple  times  to specify multiple  users. All
users that are not specified  with --excludeid  are
processed. This option  cannot be used with -all or --
userid .
-ui <longID> — --userid <longID> Move the specified  account ID of a specific  user in the
DID table; specify an account using the longid. Use --
userid  multiple  times  to specify multiple  users. Only
users that are specified  with --userid  are processed.
This option  cannot be used with -all  or --
excludeid .
-r — --remove Remove ID files from the DID table upon successful
transfer.
--retries <N> Specify the number of retry attemp ts  for failed inserts.
Specify a value between 0 and 1000; the default is 3.
-verbose Write verbose output.
Examples